!function(){function e(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./main-legacy-B42_n5Jp.js","./BarcodeElement-legacy-DR2oivsh.js","./SearchInput-legacy-CwGwlKO7.js","./dataHelper-legacy-CCEqwNpR.js"],(function(r,a){"use strict";var i,o,l,s,c,d,u,g,p,m,f,h,y,x,b,j;return{setters:[function(e){i=e.d,o=e.j,l=e.r,s=e.e,c=e.B,d=e.F,u=e.T,g=e.f,p=e.g},function(e){m=e.B,f=e.I,h=e.Q},function(e){y=e.E,x=e.P,b=e.S},function(e){j=e.g}],execute:function(){var a=document.createElement("style");a.textContent=".label-page-container{margin:0;display:flex;flex-direction:column;align-items:center;width:100%;padding:0}.label-page{display:grid;background-color:#fff;border:rgba(150,150,150,.5) solid 1px}.label{display:grid;grid-template-columns:repeat(12,1fr);gap:0px;border:1px dashed rgba(128,128,128,.753);border-collapse:collapse;min-height:0;min-width:0}.label-cell{color:#000;overflow:hidden;background-color:rgba(117,117,117,.055);padding:2px;text-align:center;border:1px solid black}@media print{.label-page{page-break-after:always}@page{margin:0}*{-webkit-print-color-adjust:exact!important;color-adjust:exact!important}br{display:none}.label{border:none}}\n/*$vite$:1*/",document.head.appendChild(a);var v=i(o.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),S=i(o.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),w=i(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),C=function(e){var r=e.text,a=e.cellProperties,i=e.maxFontSize,s=l.useRef(null),c=n(l.useState(a.fontSize||i),2),d=c[0],u=c[1];return l.useEffect((function(){a.wrapText||function(){if(s.current){var e=d;for(s.current.style.fontSize="".concat(e,"px");(s.current.scrollWidth>s.current.clientWidth||s.current.scrollHeight>s.current.clientHeight)&&e>1;)e-=.5,s.current.style.fontSize="".concat(e,"px");u(e)}}()}),[r,a.wrapText,d]),"object"===t(r)?o.jsx(o.Fragment,{}):o.jsx("div",{ref:s,style:{overflow:"hidden",textAlign:"center",fontSize:"".concat(d,"px"),whiteSpace:a.wrapText?"normal":"nowrap",display:"flex",alignItems:"flex-end",justifyContent:"left-end"},children:r})},A=function(e){var t=e.data,n=e.settings,r=e.format,a=e.isSelected,i=e.onSelect,l=r.columns,s=r.rows,c=r.pageHeight,d=r.pageWidth,u=r.pagePaddingTop,g=r.pagePaddingBottom,p=r.pagePaddingLeft,b=r.pagePaddingRight,v=r.pageGapVertical,S=r.pageGapHorizontal,A=r.labelPadding,P=r.fontSize,z=(d-(l-1)*v-p-b)/l,L=((c-(s-1)*S-u-g)/s-2*A)/(n.reduce((function(e,t){return t.grid.ye>e?t.grid.ye:e}),0)-1),k=(z-2*A)/12,I=function(e,n,r){var a=(e.grid.ye-e.grid.ys)*L,i=(e.grid.xe-e.grid.xs)*k;switch(e.formatter){case"qrcode":return o.jsx(h,{contents:n,height:a,width:i});case"image":return n||(n=r),o.jsx(f,{value:n,data:t});case"barcode":return o.jsx(m,{value:n});case"programIndicator":return o.jsx(x,{value:n});default:return o.jsx(C,{text:n,cellProperties:e,maxFontSize:P})}};return o.jsxs("div",{className:"label ".concat(a?"selected":""),style:{padding:"".concat(A,"mm"),position:"relative",cursor:"pointer",backgroundColor:a?"green":""},onClick:i,children:[a&&o.jsx("div",{className:"no-print",style:{position:"absolute",top:"5px",right:"5px",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(w,{color:"success"})}),n.map((function(e,n){var r=e.grid,a=r.xs,i=r.xe,l=r.ys,s=r.ye,c="top"===e.verAlign?"flex-start":"bottom"===e.verAlign?"flex-end":"center",d="";return d=new RegExp(/«(.*?)»/g).test(e.field)?y(t,e.field):j(t,e.field),o.jsx("div",{className:"label-cell",style:{gridColumn:"".concat(a," / ").concat(i),gridRow:"".concat(l," / ").concat(s),height:"".concat((s-l)*L,"mm"),display:"flex",alignItems:c,justifyContent:e.hozAlign||"center"},children:I(e,d,e.field)},n)}))]})},P=function(){return o.jsx("div",{className:"label label-empty"})},z=function(t){var r=t.data,a=t.settings,i=t.format,s=n(l.useState([]),2),c=s[0],d=s[1],u="repeat(".concat(i.columns,", 1fr)"),g="repeat(".concat(i.rows,", 1fr)"),p=i.rows*i.columns-r.length;return o.jsxs("div",{className:"label-page",style:{height:i.pageHeight+"mm",width:i.pageWidth+"mm",gridTemplateColumns:u,gridTemplateRows:g,paddingTop:i.pagePaddingTop+"mm",paddingBottom:i.pagePaddingBottom+"mm",paddingLeft:i.pagePaddingLeft+"mm",paddingRight:i.pagePaddingRight+"mm",columnGap:i.pageGapVertical+"mm",rowGap:i.pageGapHorizontal+"mm"},children:[r.map((function(t,n){return o.jsx(A,{data:t,settings:a,format:i,isSelected:c.includes(n),onSelect:function(){return function(t){d((function(n){return n.includes(t)?n.filter((function(e){return e!==t})):[].concat(e(n),[t])}))}(n)}},n)})),Array.from({length:p},(function(e,t){return o.jsx(P,{},"empty-".concat(t))}))]})},L=function(e){return Number.isInteger(e)?e.toString():e.toFixed(2)},k=function(e){var t=e.data,r=e.settings,a=e.format,i=n(l.useState(!0),2),g=i[0],p=i[1],m=s().isDarkMode,f=a.columns,h=a.rows,y=a.pageHeight,x=a.pageWidth,b=a.pagePaddingTop,j=a.pagePaddingBottom,S=a.pagePaddingLeft,w=a.pagePaddingRight,C=a.pageGapVertical,A=a.pageGapHorizontal,P=a.labelPadding,z=t.length,k=h*f,I=Math.ceil(z/k),B=(y-(h-1)*A-b-j)/h,T=(x-(f-1)*C-S-w)/f,H=(B-2*P)/(r.reduce((function(e,t){return t.grid.ye>e?t.grid.ye:e}),0)-1),N=(T-2*P)/12,E=k*I-z,G={paddingBottom:0,margin:0};return o.jsxs(c,{className:"no-print",style:{position:"relative",width:"100%",zIndex:10},children:[o.jsx(d,{color:"primary",size:"small","aria-label":"add",style:{position:"fixed",top:10,right:10},onClick:function(){p(!g)},children:o.jsx(v,{style:{transition:"transform 0.3s",transform:g?"rotate(45deg)":"rotate(0deg)"}})}),o.jsxs(c,{sx:{position:"fixed",top:60,right:10,padding:"15px",backgroundColor:m?"black":"white",borderRadius:4,borderColor:m?"black":"gray",borderStyle:"solid",borderWidth:"1px",transition:"opacity 0.3s, transform 0.3s",opacity:g?1:0,transform:g?"translateY(0)":"translateY(-20px)",pointerEvents:g?"auto":"none"},children:[o.jsx(u,{variant:"h6",style:{marginBottom:"10px"},children:"Labels Statistics"}),o.jsxs(c,{style:{marginBottom:"15px"},children:[o.jsx(u,{style:{color:"#007ACC",fontWeight:"bold"},children:"General Information"}),o.jsxs(u,{style:G,children:["Total labels: ",z]}),o.jsxs(u,{style:G,children:["Labels per page: ",k]}),o.jsxs(u,{style:G,children:["Number of pages: ",I]}),o.jsxs(u,{style:G,children:["Empty labels: ",E]})]}),o.jsxs(c,{style:{marginBottom:"15px"},children:[o.jsx(u,{style:{color:"#007ACC",fontWeight:"bold"},children:"Page Layout"}),o.jsxs(u,{style:G,children:["Layout: ",h," x ",f]}),o.jsxs(u,{style:G,children:["Page height: ",y,"mm"]}),o.jsxs(u,{style:G,children:["Page width: ",x,"mm"]})]}),o.jsxs(c,{style:{marginBottom:"15px"},children:[o.jsx(u,{style:{color:"#007ACC",fontWeight:"bold"},children:"Label Dimensions"}),o.jsxs(u,{style:G,children:["Label height: ",L(B),"mm"]}),o.jsxs(u,{style:G,children:["Label width: ",L(T),"mm"]}),o.jsxs(u,{style:G,children:["Minimum cell height: ",L(H),"mm"]}),o.jsxs(u,{style:G,children:["Minimum cell width: ",L(N),"mm"]})]})]})]})};r("L",(function(e){var t=e.data,r=e.settings,a=e.format,i=n(l.useState(""),2),s=i[0],u=i[1],m=g(),f=l.useCallback(p(u,300),[]);if(!r)return o.jsx("h1",{children:"Settings not provided"});var h,y=(h=s,t.filter((function(e){return Object.values(e).some((function(e){return String(e).toLowerCase().includes(String(h).toLowerCase())}))}))),x=y.length,j=a.rows*a.columns,v=Math.ceil(x/j),w=Array.from({length:v},(function(e,t){var n=t*j,i=n+j,l=y.slice(n,i);return o.jsxs(c,{children:[o.jsx(z,{data:l,settings:r,format:a}),o.jsx("br",{})]},t)}));return o.jsxs(o.Fragment,{children:[o.jsx(d,{className:"no-print",color:"primary",size:"small","aria-label":"add",style:{position:"fixed",top:10,left:10},onClick:function(){m(-1)},children:o.jsx(S,{style:{transition:"transform 0.3s"}})}),o.jsx(c,{className:"no-print",sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",margin:"20px 0"},children:o.jsx(b,{setFilter:f})}),o.jsx(k,{data:y,settings:r,format:a}),o.jsx(c,{className:"label-page-container",children:w})]})}))}}}))}();

import{d as p,j as e,r as h,T as c,az as u,P as j}from"./main-CbjDkmQq.js";import{g as m}from"./dataHelper-DZckQQkV.js";import{B as y,I as w,Q as z}from"./BarcodeElement-D47eGF5q.js";import{P as C}from"./PDFElement-DdVQFdFd.js";const E=p(e.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),S=p(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),b=p(e.jsx("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H15v-8h5V8zm-1 7V3.5L18.5 9zm4 12.66V16h5.66v2h-2.24l2.95 2.95-1.41 1.41L19 19.41v2.24h-2z"}),"FileOpen"),T=({value:t})=>t?e.jsx(E,{color:"success"}):e.jsx(S,{color:"error"}),v=({value:t,item:n,maxFontSize:f})=>{const s=h.useRef(null),[o,a]=h.useState(n.fontSize||f);return h.useEffect(()=>{const l=()=>{if(s.current){let r=o;for(s.current.style.fontSize="".concat(r,"px");(s.current.scrollWidth>s.current.clientWidth||s.current.scrollHeight>s.current.clientHeight)&&r>1;)r-=.5,s.current.style.fontSize="".concat(r,"px");a(r)}};n.wrapText||l()},[t,n.wrapText,o]),typeof t=="object"?e.jsx(e.Fragment,{}):e.jsx("div",{ref:s,style:{overflow:"hidden",textAlign:"center",fontSize:"".concat(o,"px"),whiteSpace:n.wrapText?"normal":"nowrap",display:"flex",alignItems:"flex-end",justifyContent:"left-end"},children:e.jsxs(c,{sx:{m:0},children:[n.prefix&&e.jsx("b",{children:n.prefix}),t]})})},F=({src:t})=>e.jsx("iframe",{src:t,style:{width:"100%",height:"100%"}}),I=({value:t})=>{const n=()=>{window.open(t)};return t&&e.jsx(u,{"aria-label":"open pdf",onClick:n,children:e.jsx(b,{color:"primary",style:{width:24,height:24}})})},R=({data:t,gridData:n})=>{const o=Math.max(...n.map(l=>l.grid.ye)),a=(l,r)=>{const d=(r.grid.ye-r.grid.ys)*100,x=(r.grid.xe-r.grid.xs)*50,i=m(l,r.field);switch(r.formatter){case"qrcode":return e.jsx(z,{contents:i,height:d,width:x});case"image":return e.jsx(w,{value:i,data:l});case"barcode":return e.jsx(y,{value:i});case"eDrawings":return e.jsx(F,{src:"edrawings/SwoodDesign.html"});case"pdf":return e.jsxs(c,{sx:{m:0},children:[r.prefix&&e.jsx("b",{children:r.prefix}),e.jsx(C,{value:i})]});case"link":return e.jsxs(c,{sx:{m:0},children:[r.prefix&&e.jsx("b",{children:r.prefix}),e.jsx(I,{value:i})]});case"boolean":return e.jsxs(c,{sx:{m:0},children:[r.prefix&&e.jsx("b",{children:r.prefix}),e.jsx(T,{value:i})]});default:return e.jsx(v,{value:i,item:r,maxFontSize:15})}};return e.jsx(j,{variant:"outlined",className:"react-grid-layout",sx:{padding:2},children:e.jsx("div",{style:{display:"grid",gap:10,gridTemplateColumns:"repeat(12, 1fr)",gridTemplateRows:"repeat(".concat(o-1,", 50px)")},children:n.map((l,r)=>{const{xs:d,xe:x,ys:i,ye:g}=l.grid;return e.jsx("div",{className:"react-grid-item",style:{gridColumn:"".concat(d," / ").concat(x),gridRow:"".concat(i," / ").concat(g),padding:5},children:a(t,l)},r)})})})};export{R as G};
